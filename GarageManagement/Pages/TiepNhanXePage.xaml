<?xml version="1.0" encoding="utf-8" ?>
<ContentPage
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    x:Class="GarageManagement.Pages.TiepNhanXePage"
    BackgroundColor="Bisque"
    Shell.NavBarIsVisible="False">

    <ScrollView Margin="20">
        <VerticalStackLayout Spacing="20">
            
            <Label
                Text="TIẾP NHẬN XE MỚI"
                FontSize="36"
                FontAttributes="Bold"
                HorizontalTextAlignment="Center" />

            <Label Text="Biển số" FontSize="Medium" />
            <Frame
                CornerRadius="10"
                BorderColor="Black"
                Padding="0"
                HasShadow="False">
                <Entry
                    x:Name="txtBienSo"
                    BackgroundColor="LightGray"
                    Placeholder="Nhập biển số xe"
                    Text="{Binding BienSo, Mode=TwoWay}"
                    TextColor="Black"
                    HorizontalOptions="Fill" />
            </Frame>

            <Label Text="Ngày tiếp nhận" FontSize="Medium" />
            <Frame
                CornerRadius="10"
                BorderColor="Black"
                Padding="10,5"
                BackgroundColor="LightGray"
                HasShadow="False">
                <DatePicker
                    x:Name="dpNgayTiepNhan"
                    Date="{Binding NgayTiepNhan, Mode=TwoWay}"
                    TextColor="Black"
                    HorizontalOptions="Fill" />
            </Frame>

            <StackLayout Spacing="15">

                <Frame
                    CornerRadius="10"
                    BorderColor="Gray"
                    Padding="15"
                    HasShadow="True"
                    IsVisible="{Binding IsCarExists}">
                    <VerticalStackLayout Spacing="10">
                        <Label Text="Xe đã tồn tại" FontAttributes="Bold" />
                        <Label Text="{Binding TenXe, StringFormat='Tên xe: {0}'}" />
                        <Label Text="{Binding TenHieuXe, StringFormat='Hiệu xe: {0}'}" />
                        <Label Text="{Binding BienSo, StringFormat=Empty'Biển số: {0}'}"/>
                        <Button
                            Text="Chi tiết xe"
                            Command="{Binding ViewCarDetailsCommand}" />
                    </VerticalStackLayout>
                </Frame>

                <Frame
                    CornerRadius="10"
                    BorderColor="Gray"
                    Padding="15"
                    HasShadow="True"
                    IsVisible="{Binding IsCarExists}">
                    <VerticalStackLayout Spacing="10">
                        <Label Text="Thông tin chủ xe" FontAttributes="Bold" />
                        <Label Text="{Binding TenChuXe, StringFormat='Họ và tên: {0}'}" />
                        <Label Text="{Binding DiaChi, StringFormat='Địa chỉ: {0}'}" />
                        <Label Text="{Binding SoDienThoai, StringFormat='Điện thoại: {0}'}" />
                        <Button
                            Text="Xem chi tiết chủ xe"
                            Command="{Binding ViewOwnerDetailsCommand}" />
                    </VerticalStackLayout>
                </Frame>

                <Frame
                    CornerRadius="10"
                    BorderColor="Gray"
                    Padding="15"
                    HasShadow="True"
                    IsVisible="{Binding IsCarNotFound}">
                    <VerticalStackLayout Spacing="10">
                        <Label Text="Xe chưa có trong hệ thống" FontAttributes="Bold" />
                        <Button
                            Text="Thêm xe mới"
                            Command="{Binding AddNewCarCommand}" />
                    </VerticalStackLayout>
                </Frame>
            </StackLayout>
        </VerticalStackLayout>
    </ScrollView>
</ContentPage>
